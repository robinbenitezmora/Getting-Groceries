<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
 PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
 xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<body>
 <ui:composition template="template.xhtml">
  <ui:define name="script">
   <script type="text/javascript" src="javascript/main-index.js"></script>
  </ui:define>
  <ui:define name="content">
   <div class="row">
    <div class="col-md-12">
     <ul id="products" class="list-unstyled">
      <c:forEach var="product" items="#{indexBean.products}" varStatus="status">
       <li class="col-md-3" data-id="#{product.id}" data-stock="#{product.stock}" data-price="#{product.price}"
        data-amount="#{indexBean.getAmount(product)}">
        <div class="media">
         <div class="media-left">
          <a href="#">
           <img data-holder-rendered="true"
            src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNTM3NmFhMTMwZSB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1Mzc2YWExMzBlIj48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxNC41IiB5PSIzOCI+NjR4NjQ8L3RleHQ+PC9nPjwvZz48L3N2Zz4="
            style="width: 64px; height: 64px;" class="media-object" data-src="holder.js/64x64" alt="64x64" />
          </a>
         </div>
         <div class="media-body">
          <h4 class="media-heading">
           #{product.name}
          </h4>
          <span class="label label-primary stock" title="#{product.stock} in stock">#{product.stock}</span>
          <span class="label label-success">#{product.price} €</span>
          <span class="label label-default amount"
           title="#{indexBean.getAmount(product)} in cart">#{indexBean.getAmount(product)}</span>
          <button type="button" class="btn btn-primary btn-xs add" title="Add to cart"><span
            class="glyphicon glyphicon-plus"></span></button>
          <button type="button" class="btn btn-primary btn-xs subtract" title="Subtract from cart"><span
            class="glyphicon glyphicon-minus"></span></button>
         </div>
        </div>
       </li>
      </c:forEach>
     </ul>
    </div>
   </div>
   <div class="row">
    <div class="col-md-12 text-center">
     <div id="purchasePrice" data-price="0,00" class="total-price">#{indexBean.getPrice()} €</div>
     <c:choose>
      <c:when test="#{indexBean.buyer}">
       <button id="buy" type="button" class="btn btn-primary btn-lg">Buy</button>
      </c:when>
      <c:otherwise>
       <h:link value="Login to buy" outcome="login" class="btn btn-primary btn-lg" />
      </c:otherwise>
     </c:choose>
    </div>
   </div>
  </ui:define>
 </ui:composition>
</body>

</html>
index-1.html
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
 PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
 xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
 <title>
  <ui:insert name="title">Supermarket</ui:insert>
 </title>
 <meta name="viewport" content="width=device-width, initial-scale=1" />
 <link type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.css"
  rel="stylesheet" />
 <h:outputStylesheet name="css/main.css" />
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.22/require.min.js"></script>
 <script type="text/javascript" src="javascript/requirejs-config.js"></script>
 <ui:insert name="script"></ui:insert>
</h:head>
<h:body>
 <div class="container">
  <div class="row">
   <div class="col-md-12">
    <ui:insert name="top">
     <div class="jumbotron">
      <h:graphicImage value="image/java-ee.png" alt="Java EE 7" title="Java EE 7" />
      <h1>Supermarket with Java EE 7</h1>
      <p>#{indexBean.products.size()} products.</p>
     </div>
    </ui:insert>
   </div>
  </div>
  <div class="row">
   <div class="col-md-12">
    <ui:insert name="content"></ui:insert>
   </div>
  </div>
 </div>
</h:body>

</html>